<div class="titolo">
    <div style="margin-right: 20px;">
        <h1>{{tipoPiatto}}</h1>
    </div>
    
    <div *ngIf="!this.service.isAdmin && this.service.isLogged && !list">
        <button class="but" type="submit" (click)="listaPreferiti()">Lista Preferiti</button>
    </div>
</div>
<div class="login-container">
    <form [formGroup]="form">
    <input type="text" class="inp" #cerca formControlName="cerca" name="cerca" id="cerca" placeholder="cerca">
    <span><button class="but" (click)="ricerca()"  type="submit">ricerca</button></span>
    </form>
</div>

<div *ngIf="error" style="padding: 15px;">
    <h2>{{this.messageError}}</h2>
</div>

<div *ngIf="!search && !like">
    <div class="display" *ngFor="let ricetta of listaRicette">
        <span>
            <mat-card class="example-card" style="cursor: pointer;">
                <mat-card-header (click)="dettaglioRicette(ricetta.titolo, ricetta.id)">
                    <mat-card-title>{{ricetta.titolo}}</mat-card-title>
                </mat-card-header>

                <img style="height: 266px; width: 350ppx;" mat-card-image src="{{ricetta.image}}">


                <mat-card-actions>
                    <button *ngIf="this.service.isAdmin" style="color: black; background-color: rgb(181, 40, 40);"
                        mat-button (click)="openDialogDelete(ricetta.id)">Cancella</button>
                    <button *ngIf="this.service.isAdmin"
                        style="color: black; background-color: rgb(246, 213, 48); margin-left: 5px;" mat-button
                        (click)="openDialog(ricetta, ricetta.id)">Modifica</button>
                    <div (click)="listaPreferitiAdd(ricetta.id)" *ngIf="this.service.isLogged && !this.service.isAdmin">
                        <img *ngIf="this.service.isLogged"
                            style="color: black;  margin-left: 20px; height: 20px; width: 20px;" src="assets/icon2.png">
                            <!-- <img *ngIf="this.service.isLogged "
                            style="color: black;  margin-left: 20px; height: 20px; width: 20px;" src="assets/icon.png"> -->
                    </div>
                </mat-card-actions>
            </mat-card>
        </span>
    </div>
</div>

<div *ngIf="search && !like">
    <div class="display" *ngFor="let ricetta of ricercaRicetta">
        <span>
            <mat-card class="example-card" style="cursor: pointer;"
                (click)="dettaglioRicette(ricetta.titolo, ricetta.id)">
                <mat-card-header>
                    <mat-card-title>{{ricetta.titolo}}</mat-card-title>
                </mat-card-header>


                <img style="height: 266px; width: 350ppx;" mat-card-image src="{{ricetta.image}}">


                <mat-card-actions>
                    <button *ngIf="this.service.isAdmin" style="color: black; background-color: rgb(181, 40, 40);"
                        mat-button (click)="openDialogDelete(ricetta.id)">Cancella</button>
                    <button *ngIf="this.service.isAdmin"
                        style="color: black; background-color: rgb(246, 213, 48); margin-left: 5px;" mat-button
                        (click)="openDialog(ricetta, ricetta.id)">Modifica</button>
                    <div (click)="listaPreferitiAdd(ricetta.id)" *ngIf="this.service.isLogged && !this.service.isAdmin">
                        <img *ngIf="this.service.isLogged"
                            style="color: black;  margin-left: 20px; height: 20px; width: 20px;" src="assets/icon.png">
                    </div>
                </mat-card-actions>
            </mat-card>
        </span>
    </div>
</div>

<div *ngIf="!search && like && !error">
    <div class="display" *ngFor="let ricetta of objPreferiti">
        <span>
            <mat-card class="example-card" style="cursor: pointer;">
                <mat-card-header (click)="dettaglioRicette(ricetta.titolo, ricetta.id)">
                    <mat-card-title>{{ricetta.titolo}}</mat-card-title>
                </mat-card-header>


                <img style="height: 266px; width: 350ppx;" mat-card-image src="{{ricetta.image}}">


                <mat-card-actions>
                    <button *ngIf="this.service.isAdmin" style="color: black; background-color: rgb(181, 40, 40);"
                        mat-button (click)="openDialogDelete(ricetta.id)">Cancella</button>
                    <button *ngIf="this.service.isAdmin"
                        style="color: black; background-color: rgb(246, 213, 48); margin-left: 5px;" mat-button
                        (click)="openDialog(ricetta, ricetta.id)">Modifica</button>
                    <!-- <div>
                        <button mat-button (click)="deletePreferiti(ricetta.id)"
                            *ngIf="this.service.isLogged && !this.service.isAdmin" class="but">Elimina dalla
                            lista</button>
                    </div> -->
                    <div (click)="deletePreferiti(ricetta.id)" *ngIf="this.service.isLogged && !this.service.isAdmin" >
                        <img 
                            style="color: black;  margin-left: 20px; height: 20px; width: 20px;" src="assets/icon.png">
                    </div>
                </mat-card-actions>
            </mat-card>
        </span>
    </div>
</div>